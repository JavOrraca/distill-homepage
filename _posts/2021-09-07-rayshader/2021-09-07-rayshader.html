<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Beautiful Maps with Rayshader</title>

  <meta property="description" itemprop="description" content="If you love beautiful 2D and 3D maps, now you can create your own with  elevation data, the rayshader package, OpenStreetMap, and ggplot2."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-09-07"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-09-07"/>
  <meta name="article:author" content="Javier Orraca"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Beautiful Maps with Rayshader"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="If you love beautiful 2D and 3D maps, now you can create your own with  elevation data, the rayshader package, OpenStreetMap, and ggplot2."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Beautiful Maps with Rayshader"/>
  <meta property="twitter:description" content="If you love beautiful 2D and 3D maps, now you can create your own with  elevation data, the rayshader package, OpenStreetMap, and ggplot2."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","categories","output","preview"]}},"value":[{"type":"character","attributes":{},"value":["Beautiful Maps with Rayshader"]},{"type":"character","attributes":{},"value":["If you love beautiful 2D and 3D maps, now you can create your own with  elevation data, the rayshader package, OpenStreetMap, and ggplot2.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation"]}},"value":[{"type":"character","attributes":{},"value":["Javier Orraca"]},{"type":"character","attributes":{},"value":["Scatter Podcast"]}]}]},{"type":"character","attributes":{},"value":["09-07-2021"]},{"type":"character","attributes":{},"value":["rayshader","raster","osmdata","sf","ggplot2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["images/smallhobart.gif"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["images/2D_render.png","images/3D_render.png","images/base_map_layer1.png","images/base_map.png","images/laguna_lidar.png","images/OSM_ggplot2_render.png","images/smallhobart.gif"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="2021-09-07-rayshader_files/header-attrs-2.10/header-attrs.js"></script>
  <script src="2021-09-07-rayshader_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="2021-09-07-rayshader_files/popper-2.6.0/popper.min.js"></script>
  <link href="2021-09-07-rayshader_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="2021-09-07-rayshader_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="2021-09-07-rayshader_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="2021-09-07-rayshader_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="2021-09-07-rayshader_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="2021-09-07-rayshader_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="2021-09-07-rayshader_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Beautiful Maps with Rayshader","description":"If you love beautiful 2D and 3D maps, now you can create your own with  elevation data, the rayshader package, OpenStreetMap, and ggplot2.","authors":[{"author":"Javier Orraca","authorURL":"#","affiliation":"Scatter Podcast","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-09-07T00:00:00.000-07:00","citationText":"Orraca, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Beautiful Maps with Rayshader</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">rayshader</div>
<div class="dt=tag">raster</div>
<div class="dt=tag">osmdata</div>
<div class="dt=tag">sf</div>
<div class="dt=tag">ggplot2</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>If you love beautiful 2D and 3D maps, now you can create your own with elevation data, the rayshader package, OpenStreetMap, and ggplot2.</p></p>
</div>

<div class="d-byline">
  Javier Orraca  (Scatter Podcast)
  
<br/>09-07-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#setup">Setup</a>
<ul>
<li><a href="#libraries">Libraries</a></li>
<li><a href="#eda">EDA</a></li>
<li><a href="#cropping">Cropping</a></li>
</ul></li>
<li><a href="#d-map">2D Map</a>
<ul>
<li><a href="#base-map">Base Map</a></li>
<li><a href="#openstreetmap">OpenStreetMap</a></li>
<li><a href="#layering">Layering</a></li>
<li><a href="#final-touches">Final Touches</a></li>
</ul></li>
<li><a href="#d-map-1">3D Map</a>
<ul>
<li><a href="#features">Features</a></li>
<li><a href="#next-steps">Next Steps</a></li>
<li><a href="#session-info">Session Info</a></li>
<li><a href="#resources">Resources</a></li>
</ul></li>
</ul>
</nav>
</div>
<h1 id="overview">Overview</h1>
<p>R, <code>rayshader</code>, OpenStreetMap… Lots of amazing learning to be had with these mapping tools. I’m following Tyler Morgan-Wall PhD’s <a href="https://www.tylermw.com/adding-open-street-map-data-to-rayshader-maps-in-r/">Adding Open Street Map Data to Rayshader Maps in R</a> tutorial and learning a lot about the development of beautiful maps with R. Laguna Beach is one of my favorite cities in the USA (<em>and the world!</em>) so I applied the concepts from this tutorial to building 2D and 3D maps of Laguna Beach. My work-in-progress and screen captures are below.</p>
<p>Tyler Morgan-Wall PhD (TMW) authored the <code>rayshader</code> package and his step-by-step tutorial is both easy to follow and incredibly informative. If you get stuck (<em>more like, “when you get stuck”</em>), you can almost always find an answer on the <code>rayshader</code> website or GitHub repo (excellent technical documentation and code examples).</p>
<p>One last caveat before I dive into my code - Finding high-quality LIDAR or Digital Elevation Models (DEMs) for United States cities is <em>not easy</em>. To apply the steps below to your location of choice, you’ll have to get creative about cropping LIDAR/DEMs to zoom into the geography that you want to model (more info on cropping in the sections below).</p>
<h1 id="setup">Setup</h1>
<p>Where do you start? Find yourself a high-resolution DEM or LIDAR capture of a location that you love. The team at <a href="https://shadedrelief.com/">Shaded Relief</a> has some high-res DEMs for public consumption: <a href="http://shadedrelief.com/SampleElevationModels/">http://shadedrelief.com/SampleElevationModels/</a></p>
<p>My starting point was a LIDAR capture of Laguna Canyon in California. This geo-data, made available by the United States Geological Survey’s <a href="https://ngmdb.usgs.gov/topoView/">National Geologic Map Database</a>, was captured in 2018 as part of a study on Southern California wildfires. The LIDAR image (captured as a TIF file) includes three variables per observation: latitude, longitude, and elevation. This Laguna Canyon LIDAR image captures these data points in one meter increments (hence the 257 MB file size). You can download this TIF from my Google Drive here: <a href="https://drive.google.com/file/d/1IfdYa0nYYk7_n1McV5IRhgk-rXJtLA9P/view?usp=sharing">https://drive.google.com/Javier/USGS_TIF</a></p>
<p>Start by installing the development versions of the <code>rayshader</code> and <code>rayimage</code> packages, and loading several others packages used in this project. I run Ubuntu and experienced some dependency issues, at least initially. If you can Google Search, you can figure out the additional Linux libraries that you might need (my apologies for not documenting this better! - I worked on this code in March but just now getting around to documenting my workflow… <em>in September!</em>).</p>
<h2 id="libraries">Libraries</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Install dev packages</span>
<span class='fu'>devtools</span><span class='fu'>::</span><span class='fu'><a href='https://devtools.r-lib.org//reference/remote-reexports.html'>install_github</a></span><span class='op'>(</span><span class='st'>"tylermorganwall/rayshader"</span><span class='op'>)</span>
<span class='fu'>devtools</span><span class='fu'>::</span><span class='fu'><a href='https://devtools.r-lib.org//reference/remote-reexports.html'>install_github</a></span><span class='op'>(</span><span class='st'>"tylermorganwall/rayimage"</span><span class='op'>)</span>

<span class='co'># Load libraries</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://www.rayshader.com'>rayshader</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rspatial.org/raster'>raster</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://docs.ropensci.org/osmdata/'>osmdata</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-spatial.github.io/sf/'>sf</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>

<span class='co'># Source elevation data</span>
<span class='va'>laguna</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/raster.html'>raster</a></span><span class='op'>(</span><span class='st'>"./USGS_one_meter_x42y372_CA_SoCal_Wildfires_B1_2018.tif"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="eda">EDA</h2>
<p>To better explore the data, lets begin by visualizing the elevation data with <code>rayshader</code> defaults to understand the topography that we are working with. Before we can render this visual, we need to transform the <strong>laguna</strong> data object (assigned above) to a matrix. For faster rendering and prototyping, you can also resize the matrix using <code>rayshader::resize_matrix()</code>. This resizing will downscale your full dataset using bilinear interpolation.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Transform the spatial data structure into a regular R matrix</span>
<span class='va'>laguna_mat</span> <span class='op'>&lt;-</span> <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/raster_to_matrix.html'>raster_to_matrix</a></span><span class='op'>(</span><span class='va'>laguna</span><span class='op'>)</span>

<span class='co'># Create small version of matrix for quick visual prototyping</span>
<span class='va'>laguna_small</span> <span class='op'>&lt;-</span> <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/resize_matrix.html'>resize_matrix</a></span><span class='op'>(</span><span class='va'>laguna_mat</span>, <span class='fl'>0.1</span><span class='op'>)</span>

<span class='co'># Plot base map using basic color defaults</span>
<span class='va'>laguna_small</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/height_shade.html'>height_shade</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/plot_map.html'>plot_map</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<figure>
<img src="images/laguna_lidar.png" alt="USGS Laguna Canyon LIDAR" /><figcaption aria-hidden="true">USGS Laguna Canyon LIDAR</figcaption>
</figure>
<h2 id="cropping">Cropping</h2>
<p>I wanted to focus on downtown Laguna Beach but this only represents a small fraction of the raw LIDAR. To get the desired lat-long range of downtown Laguna Beach, I used Google Maps to get the endpoints of my desired box. To accomplish this cropping, below, we relied on a custom cropping function that TMW shared on the <code>rayshader</code> site.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crop to fit desired box around downtown Laguna Beach</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>lat_range <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">33.541370925562376</span>, <span class="fl">33.55945552155357</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>long_range <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">117.79622401045448</span>, <span class="sc">-</span><span class="fl">117.77493476466955</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>convert_coords <span class="ot">&lt;-</span> <span class="cf">function</span>(lat, long, <span class="at">from =</span> <span class="fu">CRS</span>(<span class="st">&quot;+init=epsg:4326&quot;</span>), to) {</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">long =</span> long, <span class="at">lat =</span> lat)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  sp<span class="sc">::</span><span class="fu">coordinates</span>(data) <span class="ot">&lt;-</span> <span class="er">~</span> long <span class="sc">+</span> lat</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  sp<span class="sc">::</span><span class="fu">proj4string</span>(data) <span class="ot">=</span> from</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert to coordinate system specified by EPSG code</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  xy <span class="ot">=</span> <span class="fu">data.frame</span>(sp<span class="sc">::</span><span class="fu">spTransform</span>(data, to))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(xy) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>,<span class="st">&quot;y&quot;</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">unlist</span>(xy))</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">crs</span>(laguna)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>utm_bbox <span class="ot">&lt;-</span> <span class="fu">convert_coords</span>(<span class="at">lat =</span> lat_range,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>                           <span class="at">long =</span> long_range,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>                           <span class="at">to =</span> <span class="fu">crs</span>(laguna))</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">extent</span>(laguna)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>extent_zoomed <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">extent</span>(utm_bbox[<span class="dv">1</span>], utm_bbox[<span class="dv">2</span>], </span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>                                utm_bbox[<span class="dv">3</span>], utm_bbox[<span class="dv">4</span>])h</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>laguna_zoom <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">crop</span>(laguna, extent_zoomed)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>laguna_zoom_mat <span class="ot">&lt;-</span> rayshader<span class="sc">::</span><span class="fu">raster_to_matrix</span>(laguna_zoom)</span></code></pre></div>
</div>
<h1 id="d-map">2D Map</h1>
<h2 id="base-map">Base Map</h2>
<p>I was inspired by the relief shading work of Eduard Imhof, Swiss cartographer and mapping visionary. In particular, I loved the blueish-pink palette that Imhof popularized. When you get to this step, try adjusting the settings below to your liking. We will continue to build on top of this initial base map layer.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>base_map</span> <span class='op'>&lt;-</span> <span class='va'>laguna_zoom_mat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/height_shade.html'>height_shade</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span>
    <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/sphere_shade.html'>sphere_shade</a></span><span class='op'>(</span>
      <span class='va'>laguna_zoom_mat</span>, 
      texture <span class='op'>=</span> <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/create_texture.html'>create_texture</a></span><span class='op'>(</span><span class='st'>"#f5dfca"</span>,<span class='st'>"#63372c"</span>,<span class='st'>"#dfa283"</span>,<span class='st'>"#195f67"</span>,<span class='st'>"#c2d1cf"</span>,
                                          cornercolors <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#ffc500"</span>, <span class='st'>"#387642"</span>, <span class='st'>"#d27441"</span>,<span class='st'>"#296176"</span><span class='op'>)</span><span class='op'>)</span>,
      sunangle <span class='op'>=</span> <span class='fl'>0</span>, 
      colorintensity <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_shadow.html'>add_shadow</a></span><span class='op'>(</span><span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/lamb_shade.html'>lamb_shade</a></span><span class='op'>(</span><span class='va'>laguna_zoom_mat</span><span class='op'>)</span>, <span class='fl'>0.2</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span>
    <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/generate_altitude_overlay.html'>generate_altitude_overlay</a></span><span class='op'>(</span>
      <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/height_shade.html'>height_shade</a></span><span class='op'>(</span><span class='va'>laguna_zoom_mat</span>, texture <span class='op'>=</span> <span class='st'>"#91aaba"</span><span class='op'>)</span>,
      <span class='va'>laguna_zoom_mat</span>,
      start_transition <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>laguna_zoom_mat</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>200</span>,
      end_transition <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>laguna_zoom_mat</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/plot_map.html'>plot_map</a></span><span class='op'>(</span><span class='va'>base_map</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<figure>
<img src="images/base_map.png" alt="Laguna Beach base map a la Eduard Imhof" /><figcaption aria-hidden="true">Laguna Beach base map a la Eduard Imhof</figcaption>
</figure>
<h2 id="openstreetmap">OpenStreetMap</h2>
<p>OpenStreetMap (OSM) offers an open-source, editable geographic database of the world and the underlying data includes details for roads, buildings, hiking paths, rivers, etc. We’ll leverage the <code>osmdata</code> package for R to import OSM data (and utilizing the <code>overpass</code> API). The <code>osmdata</code> package processes routines in C++ for fast construction and loading into R. We’ll first load several layers of OSM details. Subsequently, we’ll convert those <code>sf</code> objects to the coordinate system we’re working with for this <code>rayshader</code> project.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>osm_bbox</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>long_range</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>,<span class='va'>lat_range</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>, <span class='va'>long_range</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span>,<span class='va'>lat_range</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>

<span class='va'>laguna_highway</span> <span class='op'>&lt;-</span> <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/opq.html'>opq</a></span><span class='op'>(</span><span class='va'>osm_bbox</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/add_osm_feature.html'>add_osm_feature</a></span><span class='op'>(</span><span class='st'>"highway"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/osmdata_sf.html'>osmdata_sf</a></span><span class='op'>(</span><span class='op'>)</span> 

<span class='co'># Transform coordinates to new projection</span>
<span class='va'>laguna_lines</span> <span class='op'>&lt;-</span> <span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='va'>laguna_highway</span><span class='op'>$</span><span class='va'>osm_lines</span>,
                                 crs <span class='op'>=</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/projection.html'>crs</a></span><span class='op'>(</span><span class='va'>laguna</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># View streets as a ggplot2 render </span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>laguna_lines</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>osm_id</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsf.html'>geom_sf</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Open Street Map `highway` attribute in Laguna Beach"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<figure>
<img src="images/OSM_ggplot2_render.png" alt="OSM render of Laguna Beach roads and highways using ggplot2" /><figcaption aria-hidden="true">OSM render of Laguna Beach roads and highways using ggplot2</figcaption>
</figure>
<h2 id="layering">Layering</h2>
<p>To begin, lets simply layer all the “highway” OSM attributes on top of our base map using white lines to represent the lines.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Transform sf LINESTRING geometry and create semi-transparent overlay</span>
<span class='va'>base_map</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span>
    <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/generate_line_overlay.html'>generate_line_overlay</a></span><span class='op'>(</span>
      <span class='va'>laguna_lines</span>, extent <span class='op'>=</span> <span class='va'>extent_zoomed</span>,
      linewidth <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"white"</span>,
      heightmap <span class='op'>=</span> <span class='va'>laguna_zoom_mat</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/plot_map.html'>plot_map</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<figure>
<img src="images/base_map_layer1.png" alt="Base Map Layer 1" /><figcaption aria-hidden="true">Base Map Layer 1</figcaption>
</figure>
<p>I want different styles for different OSM lines so let’s continue by creating several groups of OSM lines.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Subset layers of laguna_lines</span>
<span class='va'>laguna_trails</span> <span class='op'>&lt;-</span> <span class='va'>laguna_lines</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>highway</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"path"</span>, <span class='st'>"bridleway"</span>, <span class='st'>"steps"</span>, <span class='st'>"track"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>laguna_footpaths</span> <span class='op'>&lt;-</span> <span class='va'>laguna_lines</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>highway</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"footway"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>laguna_roads</span> <span class='op'>&lt;-</span> <span class='va'>laguna_lines</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>highway</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"unclassified"</span>, <span class='st'>"primary"</span>, 
                               <span class='st'>"primary_link"</span>, <span class='st'>"secondary"</span>, 
                               <span class='st'>"tertiary"</span>, <span class='st'>"residential"</span>, <span class='st'>"service"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Create one encompassing layer with independent element styling</span>
<span class='va'>trails_layer</span> <span class='op'>&lt;-</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/generate_line_overlay.html'>generate_line_overlay</a></span><span class='op'>(</span>
    
    <span class='co'># Pink footpaths</span>
    <span class='va'>laguna_footpaths</span>, extent <span class='op'>=</span> <span class='va'>extent_zoomed</span>,
    linewidth <span class='op'>=</span> <span class='fl'>4</span>, color <span class='op'>=</span> <span class='st'>"pink"</span>,
    heightmap <span class='op'>=</span> <span class='va'>laguna_zoom_mat</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  
  <span class='co'># Note: While barely visible in the final outputs, the following</span>
  <span class='co'># code adds an offset black shadow to the white dashed lines to</span>
  <span class='co'># represent the hiking trails around Laguna Beach </span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span>
    <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/generate_line_overlay.html'>generate_line_overlay</a></span><span class='op'>(</span>
      <span class='va'>laguna_trails</span>, extent <span class='op'>=</span> <span class='va'>extent_zoomed</span>,
      linewidth <span class='op'>=</span> <span class='fl'>4</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, lty <span class='op'>=</span> <span class='fl'>3</span>, offset <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='op'>-</span><span class='fl'>2</span><span class='op'>)</span>,
      heightmap <span class='op'>=</span> <span class='va'>laguna_zoom_mat</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span>
    <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/generate_line_overlay.html'>generate_line_overlay</a></span><span class='op'>(</span>
      <span class='va'>laguna_trails</span>, extent <span class='op'>=</span> <span class='va'>extent_zoomed</span>,
      linewidth <span class='op'>=</span> <span class='fl'>4</span>, color <span class='op'>=</span> <span class='st'>"white"</span>, lty <span class='op'>=</span> <span class='fl'>3</span>,
      heightmap <span class='op'>=</span> <span class='va'>laguna_zoom_mat</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  
  <span class='co'># White roads</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span>
    <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/generate_line_overlay.html'>generate_line_overlay</a></span><span class='op'>(</span>
      <span class='va'>laguna_roads</span>, extent <span class='op'>=</span> <span class='va'>extent_zoomed</span>,
      linewidth <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"white"</span>,
      heightmap <span class='op'>=</span> <span class='va'>laguna_zoom_mat</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>We’ll create some additional projections of OSM layers.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>laguna_parking</span> <span class='op'>&lt;-</span> <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/opq.html'>opq</a></span><span class='op'>(</span><span class='va'>osm_bbox</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/add_osm_feature.html'>add_osm_feature</a></span><span class='op'>(</span><span class='st'>"parking"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/osmdata_sf.html'>osmdata_sf</a></span><span class='op'>(</span><span class='op'>)</span> 

<span class='va'>laguna_building</span> <span class='op'>&lt;-</span> <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/opq.html'>opq</a></span><span class='op'>(</span><span class='va'>osm_bbox</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/add_osm_feature.html'>add_osm_feature</a></span><span class='op'>(</span><span class='st'>"building"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>osmdata</span><span class='fu'>::</span><span class='fu'><a href='https://docs.ropensci.org/osmdata/reference/osmdata_sf.html'>osmdata_sf</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>laguna_parking_poly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='va'>laguna_parking</span><span class='op'>$</span><span class='va'>osm_polygons</span>, crs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/projection.html'>crs</a></span><span class='op'>(</span><span class='va'>laguna</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>laguna_building_poly</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='va'>laguna_building</span><span class='op'>$</span><span class='va'>osm_polygons</span>, crs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/projection.html'>crs</a></span><span class='op'>(</span><span class='va'>laguna</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="final-touches">Final Touches</h2>
<p>Now we’re ready to build upon our base map and see the 2D visual in action. Let’s create a polygon layer of the parking and building features, and adding the styled <strong>trails_layer</strong> on top of that.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>polygon_layer</span> <span class='op'>&lt;-</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/generate_polygon_overlay.html'>generate_polygon_overlay</a></span><span class='op'>(</span><span class='va'>laguna_parking_poly</span>, 
                                      extent <span class='op'>=</span> <span class='va'>extent_zoomed</span>,
                                      heightmap <span class='op'>=</span> <span class='va'>laguna_zoom_mat</span>, 
                                      palette <span class='op'>=</span> <span class='st'>"grey30"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span>
    <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/generate_polygon_overlay.html'>generate_polygon_overlay</a></span><span class='op'>(</span><span class='va'>laguna_building_poly</span>, 
                                        extent <span class='op'>=</span> <span class='va'>extent_zoomed</span>,
                                        heightmap <span class='op'>=</span> <span class='va'>laguna_zoom_mat</span>, 
                                        palette <span class='op'>=</span> <span class='st'>"lightgrey"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>base_map</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span><span class='va'>polygon_layer</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span><span class='va'>trails_layer</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/plot_map.html'>plot_map</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<figure>
<img src="images/2D_render.png" alt="2D render of Laguna Beach… Success!" /><figcaption aria-hidden="true">2D render of Laguna Beach… Success!</figcaption>
</figure>
<h1 id="d-map-1">3D Map</h1>
<h2 id="features">Features</h2>
<p>To render a 3D map, we follow a very similar pipeline to the 2D map but utilizing <code>rayshader::plot_3d()</code>. This function introduces new arguments and I spent much more time than I had anticipated in adjusting the zscale, zoom, rotation, pitch, and water specifications.</p>
<p>To exaggerate the elevation details in this area, I decided on a <code>zscale</code> &lt; 1 that would still resemble the reality and beauty of the Laguna Beach hills. Too low of a <code>zscale</code>, e.g., <code>zscale = 0.25</code>, was too exaggerated for my liking. Once the 3D viewer renders your visual, enter <code>rayshader::render_snapshot()</code> into your console to take a flat snapshot of your 3D rendering, saving your snapshot if desired.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>base_map</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span><span class='va'>polygon_layer</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/add_overlay.html'>add_overlay</a></span><span class='op'>(</span><span class='va'>trails_layer</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/plot_3d.html'>plot_3d</a></span><span class='op'>(</span>heightmap <span class='op'>=</span> <span class='va'>laguna_zoom_mat</span>, 
                     zscale <span class='op'>=</span> <span class='fl'>0.75</span>, fov <span class='op'>=</span> <span class='fl'>0</span>, 
                     theta <span class='op'>=</span> <span class='op'>-</span><span class='fl'>45</span>, zoom <span class='op'>=</span> <span class='fl'>0.75</span>, phi <span class='op'>=</span> <span class='fl'>45</span>,
                     water <span class='op'>=</span> <span class='cn'>TRUE</span>, waterdepth <span class='op'>=</span> <span class='fl'>4</span>, 
                     wateralpha <span class='op'>=</span> <span class='fl'>0.4</span>, watercolor <span class='op'>=</span> <span class='st'>"lightblue"</span>,
                     waterlinecolor <span class='op'>=</span> <span class='st'>"white"</span>, waterlinealpha <span class='op'>=</span> <span class='fl'>0.5</span>,
                     background <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span>

<span class='co'># Create 2D snapshot of 3D rendering</span>
<span class='fu'>rayshader</span><span class='fu'>::</span><span class='fu'><a href='https://www.rayshader.com/reference/render_snapshot.html'>render_snapshot</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<figure>
<img src="images/3D_render.png" alt="3D render of Laguna Beach" /><figcaption aria-hidden="true">3D render of Laguna Beach</figcaption>
</figure>
<h2 id="next-steps">Next Steps</h2>
<p>I’ve seen some neat examples where developers add 3D polygons to their maps to represent residential housing, commercial properties, and public facilities. I recently read about methods for rendering much higher-resolution maps (this would be great for printing). Creating 3D flyovers with <code>rayshader</code> also looks surprisingly high-end for open-source software. These are all things I hope to revisit at some point in the near future. TMW knocked it out of the park with his package and tutorials, so I hope you find his content as useful as I did.</p>
<h2 id="session-info">Session Info</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>R version <span class="dv">4</span>.<span class="fl">1.1</span> (<span class="dv">2021-08-10</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>Platform<span class="sc">:</span> x86_64<span class="sc">-</span>pc<span class="sc">-</span>linux<span class="sc">-</span><span class="fu">gnu</span> (<span class="dv">64</span><span class="sc">-</span>bit)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>Running under<span class="sc">:</span> Ubuntu <span class="dv">20</span>.<span class="fl">04.3</span> LTS</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>Matrix products<span class="sc">:</span> default</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>BLAS<span class="sc">:</span>   <span class="er">/</span>usr<span class="sc">/</span>lib<span class="sc">/</span>x86_64<span class="sc">-</span>linux<span class="sc">-</span>gnu<span class="sc">/</span>blas<span class="sc">/</span>libblas.so.<span class="dv">3</span>.<span class="fl">9.0</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>LAPACK<span class="sc">:</span> <span class="er">/</span>usr<span class="sc">/</span>lib<span class="sc">/</span>x86_64<span class="sc">-</span>linux<span class="sc">-</span>gnu<span class="sc">/</span>lapack<span class="sc">/</span>liblapack.so.<span class="dv">3</span>.<span class="fl">9.0</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>locale<span class="sc">:</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] LC_CTYPE<span class="ot">=</span>en_US.UTF<span class="dv">-8</span>       LC_NUMERIC<span class="ot">=</span>C              </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a> [<span class="dv">3</span>] LC_TIME<span class="ot">=</span>en_US.UTF<span class="dv">-8</span>        LC_COLLATE<span class="ot">=</span>en_US.UTF<span class="dv">-8</span>    </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] LC_MONETARY<span class="ot">=</span>en_US.UTF<span class="dv">-8</span>    LC_MESSAGES<span class="ot">=</span>en_US.UTF<span class="dv">-8</span>   </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a> [<span class="dv">7</span>] LC_PAPER<span class="ot">=</span>en_US.UTF<span class="dv">-8</span>       LC_NAME<span class="ot">=</span>C                 </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] LC_ADDRESS<span class="ot">=</span>C               LC_TELEPHONE<span class="ot">=</span>C            </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] LC_MEASUREMENT<span class="ot">=</span>en_US.UTF<span class="dv">-8</span> LC_IDENTIFICATION<span class="ot">=</span>C       </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>attached base packages<span class="sc">:</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>other attached packages<span class="sc">:</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] ggplot2_3.<span class="fl">3.5</span>    dplyr_1.<span class="fl">0.7</span>      sf_1<span class="fl">.0</span><span class="dv">-2</span>         osmdata_0.<span class="fl">1.6</span>   </span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>] raster_3<span class="fl">.4</span><span class="dv">-13</span>    sp_1<span class="fl">.4</span><span class="dv">-5</span>         rayshader_0.<span class="fl">26.1</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>loaded via a <span class="fu">namespace</span> (and not attached)<span class="sc">:</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] rgl_0.<span class="fl">107.14</span>       Rcpp_1.<span class="fl">0.7</span>         lubridate_1.<span class="fl">7.10</span>   lattice_0<span class="fl">.20</span><span class="dv">-44</span>   </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] png_0<span class="fl">.1</span><span class="dv">-7</span>          prettyunits_1.<span class="fl">1.1</span>  class_7<span class="fl">.3</span><span class="dv">-19</span>       ps_1.<span class="fl">6.0</span>          </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] assertthat_0.<span class="fl">2.1</span>   rprojroot_2.<span class="fl">0.2</span>    digest_0.<span class="fl">6.27</span>      foreach_1.<span class="fl">5.1</span>     </span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>[<span class="dv">13</span>] utf8_1.<span class="fl">2.2</span>         R6_2.<span class="fl">5.1</span>           e1071_1<span class="fl">.7</span><span class="dv">-8</span>        httr_1.<span class="fl">4.2</span>        </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>[<span class="dv">17</span>] pillar_1.<span class="fl">6.2</span>       rlang_0.<span class="fl">4.11</span>       progress_1.<span class="fl">2.2</span>     curl_4.<span class="fl">3.2</span>        </span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>[<span class="dv">21</span>] callr_3.<span class="fl">7.0</span>        magick_2.<span class="fl">7.3</span>       pkgdown_1.<span class="fl">6.1</span>      desc_1.<span class="fl">3.0</span>        </span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>[<span class="dv">25</span>] devtools_2.<span class="fl">4.2</span>     rgdal_1<span class="fl">.5</span><span class="dv">-23</span>       htmlwidgets_1.<span class="fl">5.3</span>  munsell_0.<span class="fl">5.0</span>     </span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>[<span class="dv">29</span>] proxy_0<span class="fl">.4</span><span class="dv">-26</span>       compiler_4.<span class="fl">1.1</span>     xfun_0<span class="fl">.25</span>          pkgconfig_2.<span class="fl">0.3</span>   </span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>[<span class="dv">33</span>] pkgbuild_1.<span class="fl">2.0</span>     htmltools_0.<span class="fl">5.2</span>    tidyselect_1.<span class="fl">1.1</span>   tibble_3.<span class="fl">1.4</span>      </span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>[<span class="dv">37</span>] codetools_0<span class="fl">.2</span><span class="dv">-18</span>   fansi_0.<span class="fl">5.0</span>        crayon_1.<span class="fl">4.1</span>       withr_2.<span class="fl">4.2</span>       </span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>[<span class="dv">41</span>] grid_4.<span class="fl">1.1</span>         gtable_0.<span class="fl">3.0</span>       jsonlite_1.<span class="fl">7.2</span>     lifecycle_1.<span class="fl">0.0</span>   </span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>[<span class="dv">45</span>] DBI_1.<span class="fl">1.1</span>          magrittr_2.<span class="fl">0.1</span>     scales_1.<span class="fl">1.1</span>       units_0<span class="fl">.7</span><span class="dv">-2</span>       </span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>[<span class="dv">49</span>] KernSmooth_2<span class="fl">.23</span><span class="dv">-20</span> cli_3.<span class="fl">0.1</span>          cachem_1.<span class="fl">0.6</span>       farver_2.<span class="fl">1.0</span>      </span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>[<span class="dv">53</span>] fs_1.<span class="fl">5.0</span>           remotes_2.<span class="fl">4.0</span>      doParallel_1.<span class="fl">0.16</span>  testthat_3.<span class="fl">0.4</span>    </span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>[<span class="dv">57</span>] xml2_1.<span class="fl">3.2</span>         ellipsis_0.<span class="fl">3.2</span>     generics_0.<span class="fl">1.0</span>     vctrs_0.<span class="fl">3.8</span>       </span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>[<span class="dv">61</span>] iterators_1.<span class="fl">0.13</span>   tools_4.<span class="fl">1.1</span>        rayimage_0.<span class="fl">6.2</span>     glue_1.<span class="fl">4.2</span>        </span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>[<span class="dv">65</span>] purrr_0.<span class="fl">3.4</span>        hms_1.<span class="fl">1.0</span>          processx_3.<span class="fl">5.2</span>     pkgload_1.<span class="fl">2.1</span>     </span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>[<span class="dv">69</span>] parallel_4.<span class="fl">1.1</span>     fastmap_1.<span class="fl">1.0</span>      colorspace_2<span class="fl">.0</span><span class="dv">-2</span>   sessioninfo_1.<span class="fl">1.1</span> </span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>[<span class="dv">73</span>] classInt_0<span class="fl">.4</span><span class="dv">-3</span>     rvest_1.<span class="fl">0.1</span>        memoise_2.<span class="fl">0.0</span>      knitr_1<span class="fl">.33</span>        </span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>[<span class="dv">77</span>] usethis_2.<span class="fl">0.1</span>     </span></code></pre></div>
</div>
<h2 id="resources">Resources</h2>
<ul>
<li>rayshader: <a href="https://www.rayshader.com/">https://www.rayshader.com/</a></li>
<li>rayrender: <a href="http://www.rayrender.net/">http://www.rayrender.net/</a></li>
<li>Tyler Morgan-Wall, PhD: <a href="https://www.tylermw.com/">https://www.tylermw.com/</a></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
